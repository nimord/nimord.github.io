<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>LFCS 12：如何使用 Linux 的帮助文档和工具 | ChaoS</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">LFCS 12：如何使用 Linux 的帮助文档和工具</h1><a id="logo" href="/.">ChaoS</a><p class="description">似于混沌</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">LFCS 12：如何使用 Linux 的帮助文档和工具</h1><div class="post-meta">Jul 29, 2016<span> | </span><span class="category"><a href="/categories/转载/">转载</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/07/29/lfcs-12/" href="/2016/07/29/lfcs-12/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="Linux-帮助手册man"><a href="#Linux-帮助手册man" class="headerlink" title="Linux 帮助手册man"></a>Linux 帮助手册man</h3><p>man 手册是 manual 手册的缩写，就是其名字所揭示的那样：一个给定工具的帮助手册。它包含了命令所支持的选项列表（以及解释），有些工具甚至还提供一些使用范例。</p>
<p>我们用 <strong>man 命令</strong> 跟上你想要了解的工具名称来打开一个帮助手册。例如：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># man diff</span></span><br></pre></td></tr></table></figure>
<p>这将打开<code>diff</code>的手册页，这个工具将逐行对比文本文件（如你想退出只需要轻轻的点一下 q 键）。</p>
<p>下面我来比较两个文本文件 <code>file1</code> 和 <code>file2</code>。这两个文本文件包含了使用同一个 Linux 发行版相同版本安装的两台机器上的的安装包列表。</p>
<p>输入<code>diff</code> 命令它将告诉我们 <code>file1</code> 和<code>file2</code> 有什么不同:</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># diff file1 file2</span></span><br></pre></td></tr></table></figure>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201607/25/095541p277x5ty7ihufb67.png" alt="在Linux中比较两个文本文件"></p>
<p><em>在Linux中比较两个文本文件</em></p>
<p><code>&lt;</code> 这个符号是说<code>file2</code>缺失的行。如果是 <code>file1</code>缺失，我们将用 <code>&gt;</code> 符号来替代指示。</p>
<p>另外，<strong>7d6</strong> 意思是说<code>file1</code>的第<strong>7</strong>行要删除了才能和<code>file2</code>一致（<strong>24d22</strong> 和 <strong>41d38</strong> 也是同样的意思） <strong>65,67d61</strong> 告诉需要删除从第 <strong>65</strong> 行到 <strong>67</strong> 行。我们完成了以上步骤，那么这两个文件将完全一致。</p>
<p>此外，根据 man 手册说明，你还可以通过 <code>-y</code> 选项来以两路的方式显示文件。你可以发现这对于你找到两个文件间的不同根据方便容易。</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># diff -y file1 file2</span></span><br></pre></td></tr></table></figure>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201607/25/095542par66q955uu656ui.png" alt="比较并列出两个文件的不同"></p>
<p><em>比较并列出两个文件的不同</em></p>
<p>此外，你也可以用<code>diff</code>来比较两个二进制文件。如果它们完全一样，<code>diff</code> 将什么也不会输出。否则，它将会返回如下信息：“<strong>Binary files X and Y differ</strong>”。</p>
<h3 id="–help-选项"><a href="#–help-选项" class="headerlink" title="–help 选项"></a>–help 选项</h3><p><code>--help</code>选项，大多数命令都支持它（并不是所有）， 它可以理解为一个命令的简短帮助手册。尽管它没有提供工具的详细介绍，但是确实是一个能够快速列出程序的所支持的选项的不错的方法。</p>
<p>例如，</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># sed --help</span></span><br></pre></td></tr></table></figure>
<p>将显示 sed （流编辑器）的每个支持的选项。</p>
<p><code>sed</code>命令的一个典型用法是替换文件中的字符。用 <code>-i</code> 选项（意思是 “<strong>原地编辑编辑文件</strong>”），你可以编辑一个文件而且并不需要打开它。 如果你想要同时备份一个原始文件，用 <code>-i</code> 选项加后缀来创建一个原始文件的副本。</p>
<p>例如，替换 <code>lorem.txt</code> 中的<code>Lorem</code> 为 <code>Tecmint</code>（忽略大小写），并且创建一个原文件的备份副本，命令如下：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># less lorem.txt | <span class="keyword">grep</span> -i lorem# sed -i.orig <span class="string">'s/Lorem/Tecmint/gI'</span> lorem.txt# less lorem.txt | <span class="keyword">grep</span> -i lorem# less lorem.txt.orig | <span class="keyword">grep</span> -i lorem</span><br></pre></td></tr></table></figure>
<p>请注意<code>lorem.txt</code>文件中<code>Lorem</code> 都已经替换为 <code>Tecmint</code>，并且原文件 <code>lorem.txt</code> 被保存为<code>lorem.txt.orig</code>。</p>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201607/25/095542si4s5z2a542g59rr.png" alt="替换文件中的文本"></p>
<p><em>替换文件中的文本</em></p>
<h3 id="usr-share-doc-内的文档"><a href="#usr-share-doc-内的文档" class="headerlink" title="/usr/share/doc 内的文档"></a>/usr/share/doc 内的文档</h3><p>这可能是我最喜欢的方法。如果你进入 <code>/usr/share/doc</code> 目录，并列出该目录，你可以看到许多以安装在你的 Linux 上的工具为名称的文件夹。</p>
<p>根据 <a href="https://linux.cn/article-6132-1.html" target="_blank" rel="external">文件系统层级标准</a>，这些文件夹包含了许多帮助手册没有的信息，还有一些可以使配置更方便的模板和配置文件。</p>
<p>例如，让我们来看一下 <code>squid-3.3.8</code> （不同发行版的版本可能会不同），这还是一个非常受欢迎的 HTTP 代理和 <a href="http://www.tecmint.com/configure-squid-server-in-linux/" target="_blank" rel="external">squid 缓存服务器</a>。</p>
<p>让我们用<code>cd</code>命令进入目录：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd <span class="regexp">/usr/</span>share<span class="regexp">/doc/</span>squid-<span class="number">3.3</span>.<span class="number">8</span></span><br></pre></td></tr></table></figure>
<p>列出当前文件夹列表：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># ls</span></span><br></pre></td></tr></table></figure>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201607/25/095543nddiud7rzi2f3ed2.png" alt="使用 ls 列出目录"></p>
<p><em>使用 ls 列出目录</em></p>
<p>你应该特别注意 <code>QUICKSTART</code> 和 <code>squid.conf.documented</code>。这些文件分别包含了 Squid 详细文档及其经过详细备注的配置文件。对于别的安装包来说，具体的名字可能不同（有可能是 <strong>QuickRef</strong> 或者<strong>00QUICKSTART</strong>），但意思是一样的。</p>
<p>对于另外一些安装包，比如 Apache web 服务器，在<code>/usr/share/doc</code>目录提供了配置模板，当你配置独立服务器或者虚拟主机的时候会非常有用。</p>
<h3 id="GNU-信息文档"><a href="#GNU-信息文档" class="headerlink" title="GNU 信息文档"></a>GNU 信息文档</h3><p>你可以把它看做帮助手册的“开挂版”。它不仅仅提供工具的帮助信息，而且还是超级链接的形式（没错，在命令行中的超级链接），你可以通过箭头按钮从一个章节导航到另外章节，并按下回车按钮来确认。</p>
<p>一个典型的例子是：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># info coreutils</span></span><br></pre></td></tr></table></figure>
<p>因为 coreutils 包含了每个系统中都有的基本文件、shell 和文本处理工具，你自然可以从 coreutils 的 info 文档中得到它们的详细介绍。</p>
<p><img src="https://dn-linuxcn.qbox.me/data/attachment/album/201607/25/095543xzr5k57jx7fx7ke9.png" alt="Info Coreutils"></p>
<p><em>Info Coreutils</em></p>
<p>和帮助手册一样，你可以按 q 键退出。</p>
<p>此外，GNU info 还可以显示标准的帮助手册。 例如：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># info tune2fs</span></span><br></pre></td></tr></table></figure>
<p>它将显示 <strong>tune2fs</strong>的帮助手册, 这是一个 ext2/3/4 文件系统管理工具。</p>
<p>我们现在看到了，让我们来试试怎么用<strong>tune2fs</strong>：</p>
<p>显示 <strong>/dev/mapper/vg00-vol_backups</strong> 文件系统信息：</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr"># tune2</span>fs -l /dev/mapper/v<span class="name">g00</span>-vol_backups</span><br></pre></td></tr></table></figure>
<p>修改文件系统标签（修改为 Backups）：</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr"># tune2</span>fs -L Backups /dev/mapper/v<span class="name">g00</span>-vol_backups</span><br></pre></td></tr></table></figure>
<p>设置文件系统的自检间隔及挂载计数（用<code>-c</code> 选项设置挂载计数间隔， 用 <code>-i</code> 选项设置自检时间间隔，这里 <strong>d 表示天，w 表示周，m 表示月</strong>)。</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr"># tune2</span>fs -c <span class="number">150</span> /dev/mapper/v<span class="name">g00</span>-vol_backups <span class="attr"># 每 150</span> 次挂载检查一次<span class="attr"># tune2</span>fs -i <span class="number">6</span>w /dev/mapper/v<span class="name">g00</span>-vol_backups <span class="attr"># 每 6</span> 周检查一次</span><br></pre></td></tr></table></figure>
<p>以上这些内容也可以通过 <code>--help</code> 选项找到，或者查看帮助手册。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://nimord.github.io/2016/07/29/lfcs-12/" data-id="cix3cw4ks000x40awvjy3arcx" class="article-share-link">分享到</a><div class="tags"><a href="/tags/lfcs/">lfcs</a></div><div class="post-nav"><a href="/2016/07/29/lfcs-11/" class="next">LFCS 11：如何使用命令 vgcreate、lvcreate 和 lvextend 管理和创建 LVM</a></div><div id="disqus_thread"><script>var disqus_shortname = 'qiankun';
var disqus_identifier = '2016/07/29/lfcs-12/';
var disqus_title = 'LFCS 12：如何使用 Linux 的帮助文档和工具';
var disqus_url = 'http://nimord.github.io/2016/07/29/lfcs-12/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//qiankun.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/technology/">技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/转载/">转载</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/essay/">随笔</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/lfcs/" style="font-size: 15px;">lfcs</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-12/">LFCS 12：如何使用 Linux 的帮助文档和工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-11/">LFCS 11：如何使用命令 vgcreate、lvcreate 和 lvextend 管理和创建 LVM</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-10/">LFCS 10：学习简单的 Shell 脚本编程和文件系统故障排除</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-09/">LFCS 09：使用 Yum/RPM/Apt/Dpkg/Aptitude 进行 Linux 软件包管理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-08/">LFCS 08：管理用户和用户组、文件权限和属性以及启用账户 sudo 访问权限</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-07/">LFCS 07：通过 SysVinit、Systemd 和 Upstart 管理系统自启动进程和服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-06/">LFCS 06：组装分区为RAID设备——创建和管理系统备份</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-05/">LFCS 05：如何在 Linux 中挂载/卸载本地文件系统和网络文件系统（Samba 和 NFS）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-04/">LFCS 04：对存储设备分区、格式化文件系统和配置交换分区</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/29/lfcs-03/">LFCS 03：归档/压缩文件及目录、设置文件属性和搜索文件</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//qiankun.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">ChaoS.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>