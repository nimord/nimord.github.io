<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ChaoS</title>
  <subtitle>似于混沌</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://qiankun.space/"/>
  <updated>2016-04-28T14:42:39.813Z</updated>
  <id>http://qiankun.space/</id>
  
  <author>
    <name>ZhangChao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>shell脚本调用的三种不同方式</title>
    <link href="http://qiankun.space/2016/04/28/the-method-called-shell-script/"/>
    <id>http://qiankun.space/2016/04/28/the-method-called-shell-script/</id>
    <published>2016-04-28T13:30:55.000Z</published>
    <updated>2016-04-28T14:42:39.813Z</updated>
    
    <content type="html">&lt;p&gt;bash的命令分为两类：外部命令和内部命令。外部命令是通过系统调用或独立的程序实现的，如sed、awk等；内部命令是由特殊的文件格式（.def）所实现，如cd、history、exec等。shell脚本调用有三种不同方法：&lt;code&gt;fork&lt;/code&gt;, &lt;code&gt;exec&lt;/code&gt;, &lt;code&gt;source&lt;/code&gt;。其中fork是linux的系统调用，用来创建子进程。exec和source都属于bash内部命令（builtins commands）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;fork&lt;/strong&gt; (/directory/script.sh)：在子命令执行完后再执行父级命令，&lt;strong&gt;子级的环境变量不会影响到父级&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;fork是最常用的，就是直接在脚本里面用/directory/script.sh来调用script.sh这个脚本。运行的时候开一个sub-shell执行调用的脚本，sub-shell执行的时候， parent-shell还在。sub-shell执行完毕后返回parent-shell。 sub-shell从parent-shell继承环境变量，但是sub-shell中的环境变量不会带回parent-shell。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;子进程是父进程(parent process)的一个副本，从父进程那里获得一定的资源分配以及继承父进程的环境。子进程与父进程唯一不同的地方在于pid（process id）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;exec&lt;/strong&gt;(exec /directory/script.sh)：&lt;strong&gt; 执行子级的命令后，不再执行父级命令&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;exec命令在执行时会把当前的shell process关闭，然后换到后面的命令继续执行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;exec与fork不同，不需要新开一个sub-shell来执行被调用的脚本。被调用的脚本与父脚本在同一个shell内执行。但是使用exec调用一个新脚本以后，父脚本中exec行之后的内容就不会再执行了。这是exec和source的区别。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;source&lt;/strong&gt;(source /directory/script.sh)：&lt;strong&gt; 执行子级命令后继续执行父级命令，同时子级设置的环境变量会影响到父级的环境变量&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;source命令即点(.)命令。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;与fork的区别是不新开一个sub-shell来执行被调用的脚本，而是在同一个shell中执行。所以被调用的脚本中声明的变量和环境变量, 都可以在主脚本中得到和使用。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以通过下面这两个脚本来体会三种调用方式的不同:&lt;/p&gt;
&lt;p&gt;1.sh&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A=B&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;PID for 1.sh before exec/source/fork:$$&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; A&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;1.sh: \$A is &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;exec&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;using exec…&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;exec&lt;/span&gt; ./2.sh ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;using source…&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                . ./2.sh ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        *)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;using fork by default…&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                ./2.sh ;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;esac&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;PID for 1.sh after exec/source/fork:$$&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;1.sh: \$A is &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;2.sh&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;PID for 2.sh: $$&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;2.sh get \$A=&lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; from 1.sh&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A=C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; A&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;2.sh: \$A is &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;执行情况：&lt;br&gt;&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ ./&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; before exec/source/fork:&lt;span class=&quot;number&quot;&gt;5845364&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is B&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;using fork by default…&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;5242940&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; get &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt;=B from &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; after exec/source/fork:&lt;span class=&quot;number&quot;&gt;5845364&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is B&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ./&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; exec&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; before exec/source/fork:&lt;span class=&quot;number&quot;&gt;5562668&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is B&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;using exec…&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;5562668&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; get &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt;=B from &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ./&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; source&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; before exec/source/fork:&lt;span class=&quot;number&quot;&gt;5156894&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is B&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;using source…&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;5156894&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; get &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt;=B from &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is C&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PID &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt; after exec/source/fork:&lt;span class=&quot;number&quot;&gt;5156894&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.sh&lt;/span&gt;: &lt;span class=&quot;variable&quot;&gt;$A&lt;/span&gt; is C&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;其他&lt;/strong&gt;&lt;br&gt;系统调用exec是以新的进程去代替原来的进程，但进程的PID保持不变。因此可以这样认为，exec系统调用并没有创建新的进程，只是替换了原来进程上下文的内容。原进程的代码段，数据段，堆栈段被新的进程所代替。&lt;/p&gt;
&lt;p&gt;整理本文参考链接：&lt;br&gt;&lt;a href=&quot;http://mindream.wang.blog.163.com/blog/static/2325122220084624318692/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://mindream.wang.blog.163.com/blog/static/2325122220084624318692/&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;bash的命令分为两类：外部命令和内部命令。外部命令是通过系统调用或独立的程序实现的，如sed、awk等；内部命令是由特殊的文件格式（.def）所实现，如cd、history、exec等。shell脚本调用有三种不同方法：&lt;code&gt;fork&lt;/code&gt;, &lt;code&gt;e
    
    </summary>
    
      <category term="技术" scheme="http://qiankun.space/categories/technology/"/>
    
    
      <category term="shell" scheme="http://qiankun.space/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>咕咚来了</title>
    <link href="http://qiankun.space/2016/04/28/a-short-story-before-writing/"/>
    <id>http://qiankun.space/2016/04/28/a-short-story-before-writing/</id>
    <published>2016-04-28T01:34:40.564Z</published>
    <updated>2016-04-28T08:56:02.304Z</updated>
    
    <content type="html">&lt;p&gt;就像 &lt;code&gt;helloworld&lt;/code&gt; 作为所有编程语言的起始阶段占据着无法改变的地位一样，这个小故事也是我开始写些东西前必不可少的部分。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;湖边有一棵树，树上结满了木瓜。一个木瓜熟了，从树上掉进湖里，咕咚一声，溅起了白色的水花。&lt;/p&gt;
&lt;p&gt;兔子听见吓坏了，拔腿就跑，边跑边叫：“快逃哇，咕咚来了！”&lt;/p&gt;
&lt;p&gt;猴子听见了，也跟着跑，边跑边叫：“大家快逃哇，咕咚来了！”&lt;/p&gt;
&lt;p&gt;这下子可热闹了。动物们全跟着跑起来，边跑边喊：“快逃命啊，咕咚来了！”&lt;/p&gt;
&lt;p&gt;大象走来了，拦住了大伙儿：“咕咚在哪儿，你们看见了吗？”&lt;/p&gt;
&lt;p&gt;“没看见，是兔子说的！”&lt;/p&gt;
&lt;p&gt;大象追问兔子：“你看见咕咚了？”&lt;/p&gt;
&lt;p&gt;兔子摇摇头说：“没有，我是在湖边听见的。”&lt;/p&gt;
&lt;p&gt;大家悄悄来到湖边，正巧一个木瓜又落到了湖里。咕咚一声，溅起了白色的水花。&lt;/p&gt;
&lt;p&gt;大伙儿你看看我，我看看你，都哈哈地笑了！&lt;/p&gt;
&lt;/blockquote&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;就像 &lt;code&gt;helloworld&lt;/code&gt; 作为所有编程语言的起始阶段占据着无法改变的地位一样，这个小故事也是我开始写些东西前必不可少的部分。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;湖边有一棵树，树上结满了木瓜。一个木瓜熟了，从树上掉进湖里，咕咚一声，溅起了白色
    
    </summary>
    
      <category term="随笔" scheme="http://qiankun.space/categories/essay/"/>
    
    
  </entry>
  
</feed>
